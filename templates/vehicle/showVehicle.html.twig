{% extends 'base.html.twig' %}

{% block importmap %}
	{{ importmap(['app']) }}
{% endblock %}

{% block title %}Détails du véhicule
{% endblock %}

{% block stylesheets %}
	<style>
		.show-vehicle-details {
			max-width: 100vw;
			padding: 20px;
			background-color: #f9f9f9;
			border-radius: 10px;
			box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
		}

		.show-vehicle-details h2 {
			font-size: 24px;
			margin-bottom: 20px;
			color: #282F4B; /* Utilisation de la couleur sombre pour les titres */
			border-bottom: 2px solid #EB8072; /* Ligne de séparation avec couleur chaude */
			padding-bottom: 10px;
		}

		.show-vehicle-details-grid {
			display: grid;
			grid-template-columns: repeat(2, 1fr);
			column-gap: 40px; /* Espacement entre les colonnes */
			row-gap: 20px; /* Espacement entre les lignes */
		}

		.show-vehicle-details p {
			font-size: 16px;
			color: #555;
			padding: 10px;
			border: 1px solid #ddd; /* Bordures légères autour des informations */
			border-radius: 5px; /* Coins arrondis */
			background-color: #fdfdfd; /* Légère couleur de fond */
			transition: background-color 0.3s ease, box-shadow 0.3s ease; /* Effet de transition pour le survol */
		}

		.show-vehicle-details p:hover {
			background-color: #f1f1f1; /* Changement de fond au survol */
			box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Ombre au survol */
		}

		.show-vehicle-details strong {
			color: #282F4B; /* Utilisation de la couleur sombre pour les éléments en gras */
			font-weight: bold;
			margin-right: 5px;
		}

		.show-vehicle-details .edit-button,
		.show-vehicle-details .reserve-button,
		.show-vehicle-details .btn {
			display: inline-block;
			padding: 10px 20px;
			background-color: #EB8072; /* Couleur sombre pour les boutons */
			color: white;
			text-decoration: none;
			border: none;
			font-size: 16px;
			border-radius: 5px;
			font-weight: bold;
			transition: background-color 0.3s ease;
		}

		.show-vehicle-details .edit-button:hover,
		.show-vehicle-details .reserve-button:hover,
		.show-vehicle-details .btn:hover {
			background-color: #d96d61; /* Couleur légèrement plus foncée au survol */
			cursor: pointer;
		}

		.show-vehicle-details .button-container {
			display: flex;
			justify-content: center;
			align-items: center;
			gap: 20px;
			margin-top: 20px;
		}

		@media(max-width: 768px) {
			.show-vehicle-details {
				padding: 15px;
			}

			.show-vehicle-details h2 {
				font-size: 20px;
			}

			.show-vehicle-details-grid {
				grid-template-columns: 1fr; /* Revenir à une colonne sur mobile */
			}

			.show-vehicle-details p {
				font-size: 14px;
			}

			.show-vehicle-details .edit-button,
			.show-vehicle-details .reserve-button {
				width: 100%;
			}
		}
	</style>
{% endblock %}

{% block body %}
	<main class="show-vehicle-details">
		<h2>{{ vehicle.model.name }}</h2>

		<!-- Grille pour afficher les informations du véhicule en deux colonnes -->
		<div class="show-vehicle-details-grid">
			<p>
				<strong>Propriétaire :</strong>
				{{ owner.profile.firstName }}
				{{ owner.profile.lastName }}</p>
			<p>
				<strong>Carburant :</strong>
				{{ vehicle.fuelType.value }}</p>

			<p>
				<strong>Boîte de vitesses :</strong>
				{{ vehicle.gearboxType.value }}</p>
			<p>
				<strong>Kilométrage :</strong>
				{{ vehicle.mileage }}
				km</p>

			<p>
				<strong>Couleur :</strong>
				{{ vehicle.color }}</p>
			<p>
				<strong>Taux de kilomètres supplémentaires :</strong>
				{{ vehicle.extraMileageRate }}
				€/km</p>

			<p>
				<strong>Prix par jour :</strong>
				{{ vehicle.pricePerDay }}
				€</p>
			<p>
				<strong>Nombre de portes :</strong>
				{{ vehicle.doors }}</p>

			<p>
				<strong>Nombre de sièges :</strong>
				{{ vehicle.seats }}</p>
			<p>
				<strong>Adresse :</strong>
				{{ vehicle.address }},
				{{ vehicle.postalCode }}
				{{ vehicle.city }}</p>

			<p>
				<strong>Date de création de l'annonce :</strong>
				{{ vehicle.createdAt|date('d/m/Y H:i') }}</p>
			<p>
				<strong>Dernière mise à jour :</strong>
				{{ vehicle.updatedAt|date('d/m/Y H:i') }}</p>

			<p style="grid-column: span 2;">
				<strong>Description :</strong>
				{{ vehicle.description }}</p>

			<!-- Conteneur des boutons -->
		</div>
		<div class="button-container">
			{% if vehicle.owner == app.user %}
				<a href="{{ path('app_vehicle_edit', {'id': vehicle.id}) }}" class="edit-button">Éditer l'annonce</a>
				<a href="{{ path('app_vehicle_delete', {'id': vehicle.id}) }}" class="edit-button">Supprimer l'annonce</a>
			{% else %}
				<a href="{{ path('app_rental_new', {'vehicle_id': vehicle.id, 'startDate': startDate|date('Y-m-d'), 'endDate': endDate|date('Y-m-d')}) }}" class="edit-button">Réserver</a>
			{% endif %}
		</div>
	</main>
{% endblock %}

{% block footer %}{% endblock %}
